- 발표자 : 김유빈
- 서기 : 김희연
- 날짜 : 2023-08-10(목)
- 내용 : Chapter01 Story01~02

## Story01 ㅡ 소켓을 작성한다.

### 프로토콜 스택의 내부 구성

- OS에서는 브라우저에서 받은 메시지를 서버에 송출하는 동작에서 2가지가 있다.

  - 네트워크 제어용 소프트웨어: 프로토콜 스택
  - 네트워크 하드웨어: LAN 어댑터

- 프로토콜 스택 내부 구성

| APP - 네트워크 어플리케이션(브라우저, 메일러, 웹 서버, 메일 서버 등) <br/>Socket 라이브러리(리졸버 포함)                                                                                                                                                                                                  |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| OS - 프로토콜 스택(TCP + UDP / IP) <br/> TCP: 브라우저나 메일 등의 일반적인 어플이 데이터를 송/수신할 경우에 사용 <br/> UDP: DNS 서버에 대한 조회 등에서 짧은 제어용 데이터를 송/수신할 경우에는 UDP<br/> IP: 패킷을 통신 상대까지 운반하는 역할과 ICMP와 ARP라는 프로토콜을 다루눈 부분도 포함하고 있다. |
| 드라이버 SW - LAN드라이버(어댑터 제외)                                                                                                                                                                                                                                                                    |
| HW - LAN 어댑터                                                                                                                                                                                                                                                                                           |

### 소켓의 실체는 통신 제어용 제어 정보

- 소켓이란 개념적인 것이어서 어떠한 실체를 가진 것은 아니다.
- 한편 프로토콜 스택 내부에 제어 정보를 기록하는 메모리 영역이 있고, 여기에 IP주소, 포트 번호, 진행 상태 등이 존재한다.
- 소켓은 이 제어 정보라고 할 수 있다. 따라서 응답의 여부와, 요청을 보낸 경과 시간 등으로 제어를 할 수도 있다.
- 즉, 프로토콜 스택은 소켓의 제어 정보를 따라 움직인다.

## ![netstat명령](./신동희/1.PNG)

- 여기서 보이는 netstat의 명령어 결과의 하나하나의 행이 소켓이다.

### Socket을 호출했을 때의 동작

1. 소켓을 만든다. 따라서 생성된 소켓이 들어갈 자리(메모리)를 확보한다.
2. 제어 정보(소켓)을 메모리에 할당한다. 그리고 생성된 소켓을 식별한 디스크립터 고지.
3. 그리고 애플리케이션은 프로토콜 스택에 데이터 송/수신을 의뢰할 때 이 열쇠(디스크립터)만 가지고 호출한다. 이 열쇠(디스트립터)로 지정한 상자(소켓)을 열면 거기 안에 제어 정보가 담겨있기 때문이다.
