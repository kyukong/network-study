## Story01 ㅡ 케이블과 리피터, 허브 속을 신호가 흘러간다.

### 하나하나의 패킷이 독립된 것으로 동작한다.

- 허브나 라우터라는 중계 장치에는 데이터를 보지 않는다.
- 헤더에 있는 제어 정보를 토대로 다른 패킷을 전송하는 역할만.
- 송신 순서는 리피터 - 스위치 - 라우터 - 인터넷으로 나간다.

### LAN 케이블은 신호를 약화시키지 않는 것이 핵심이다.

- LAN 어댑터의 PHY 회로에서 전기 신호로 패킷의 형태를 바꾼다.
- RJ-45 커넥터를 통해 트위스트 페어 케이블(꼰 선상)에 들어간다.
- 하지만 케이블을 거치면서 이 신호가 각이 없어지고 둥글어진다.

### '꼼'은 잡음을 방지하기 위한 방법이다.

- 두 가닥의 실을 꼬는 것처럼 신호를 꼬는 것은 잡음을 방지할 수 있다.
- 신호라는 것도 잡음이라는 것도 같은 일종의 전류라서 뒤섞일 수 있다.
- 금속의 신호선에 전자파가 닿으면 진행 방향의 오른쪽으로 전류가 생긴다.
- 선을 꼬면 이 진행 방향이 반대가 되어서 잡음을 상쇄시킨다.

### 리피터 허브는 연결되어 있는 전체 케이블에 신호를 송신한다.

- 이더넷의 기본 원리는 전체 패킷에 신호를 뿌리고 수신처 MAC 주소를 대조하는 것.
- 리피터 허브에 끝의 커넥터에는 MDI/MDI-X 전환 스위치는 RJ-45 커넥터와 신호 송/수신 회로를 직접/교차 결선한 것.
- 리피터 허브는 원칙적으로 신호를 다듬기 보단 그대로 커넥터에 송출만 함.

## Story02 ㅡ 스위칭 허브의 패킷 중계 동작

### 스위칭 허브는 주소 테이블로 중계한다.

- 스위칭 허브는 이더넷의 패킷을 그대로 목적지를 향해 중계함.
- PHY회로에서 수신되는 부분까지는 리피터 허브와 동일.
- LAN어댑터와 다른 부분이라면 MAC주소를 검사하지 않고 모든 패킷을 버퍼 메모리에 저장하기 때문에 MAC주소가 할당되어 있지 않음.

### MAC 주소 테이블을 등록 및 갱신한다.

- 스위칭 허브는 패킷을 중계할 때 MAC 주소표의 내용을 갱신
- MAC 주소표에 등록되어 있는 내용을 지울 때는 즉시삭제가 아닌 일정 시간이 경과하면 삭제한다.

### 예외적인 동작

- 스위칭 허브는 모든 포트에 신호를 뿌리기 때문에 어떤 pc는 같은 패킷을 여러 번 받는다.
- 따라서 수신한 포트와 송신하는 포트가 같을 경우 중계하지 않고 폐기시킨다.

### 전이중 모드에서 송신과 수신을 동시에 실행한다.

- 전이중 모드란, 송신과 수신을 동시에 실행할 수 있는 성질
- 리피터 허브에는 없는 스위칭 허브의 특징.

### 최적의 전송 속도로 보내는 자동 조정

- 전이중 모드와 반이중 모드를 조정해야 함.
- 접속한 상대가 전이중 모드를 지원하는지 검출하고 모드를 전환하는 기능
- 이더넷은 데이터가 흐르고 있지 않을 때는 링크 펄스라는 펄스형 신호 계속 흘림.
- 이것을 따라서 상태를 확인하고 작동 모드를 전환함.

### 스위칭 허브는 복수의 중계 동작을 동시에 실행한다.

- 리피터 허브는 들어온 신호를 모든 포트에서 뿌림. 따라서 동시에 두 개 이상 신호 들어오면 패킷 충돌
- 스위칭 허브는 수신처 MAC 주소의 기기가 존재하는 포트 이외에는 송신하지 않음
- 따라서 비어있는 다른 포트에서 동시 중계 가능.
